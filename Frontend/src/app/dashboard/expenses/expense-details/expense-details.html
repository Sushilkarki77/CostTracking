<div class="w-full max-w-lg mx-auto bg-white ">
    @let expSummary = expSummary$();
    @let exp = expenseItem$();
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-2">
        <h6 class="border-b border-gray-100 font-semibold text-gray-800 text-center pb-2 sm:text-left">
            {{exp.name}}
        </h6>
        <span class="text-sm text-gray-500 text-center sm:text-right">{{exp.createdAt | date}}</span>
    </div>


    <div class="mb-4 space-y-1">
        <p class="text-sm text-gray-700">
            <span class="font-medium text-gray-900">Payment:</span> {{exp.paymentMethod}}
        </p>

        @if(exp.note) {
        <p class="text-sm text-gray-700">
            <span class="font-medium text-gray-900">Note:</span>{{exp.note}}
        </p>
        }

    </div>


    <div class="border-t border-gray-100 pt-3 overflow-auto max-h-[50vh]">
        <h3 class="text-sm font-semibold text-gray-800 mb-2">Items</h3>

        <ul class="divide-y divide-gray-100">

            @for (item of exp.items; track $index) {
            <li class="flex justify-between items-center py-2">
                <div class="flex flex-col">
                    <p class="text-sm font-medium text-gray-800">{{item.name}}</p>
                    <p class="text-xs text-gray-500">{{item.category.name}}</p>
                </div>
                <span class="text-sm font-semibold text-gray-900">{{item.price}} {{exp.currency | uppercase }}</span>
            </li>
            }
        </ul>
    </div>


    <div class="mt-4 border-t border-gray-100 pt-3 flex justify-between items-center">
        <p class="text-sm font-semibold text-gray-700">Total</p>
        <p class="text-sm font-bold text-gray-900">{{expSummary?.total | number:'1.2-2'}} USD</p>
    </div>
</div>